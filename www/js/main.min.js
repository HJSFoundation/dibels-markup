var IFL=IFL||{};IFL.Login={initialize:function(i){_.bindAll(this),this.successCallback=i,this.setProductionUrl(),this.setDevelopmentUrl(),this.cacheElements(),this.$gameContainer.hide(),this.registerEvents()},setProductionUrl:function(){this.productionApiUrl=IFL.Settings.productionApiUrl},setDevelopmentUrl:function(){this.developmentApiUrl=IFL.Settings.developmentApiUrl},cacheElements:function(){this.$loginContainer=$("#loginContainer"),this.$email=$("#email-field"),this.$password=$("#password-field"),this.$submit=$("#submit"),this.$gameContainer=$("#gameContainer")},registerEvents:function(){this.$submit.on("click",this.loginUser)},setCurrentUser:function(i){IFL.currentUser=i},loginUser:function(){var i=$.ajax({type:"POST",url:this.productionApiUrl+"/users/sign_in.json",crossDomain:!0,data:{user:{email:this.$email.val(),password:this.$password.val()}},dataType:"json"});i.done(this.loginSuccess),i.fail(this.loginFailure)},loginSuccess:function(i){this.setCurrentUser(i),this.$loginContainer.addClass("hidden"),this.$gameContainer.removeClass("hidden"),this.successCallback()},loginFailure:function(){alert("There was a problem, please try again.")}};var IFL=IFL||{};IFL.Settings={productionApiUrl:"https://IFLauthexample-webapp.herokuapp.com",developmentApiUrl:"http://localhost:3000"};